--- a/net/minecraft/item/ItemWrittenBook.java
+++ b/net/minecraft/item/ItemWrittenBook.java
@@ -130,7 +130,7 @@
 
                     nbttagcompound.setTag("pages", nbttaglist);
 
-                    if (p_179229_2_ instanceof EntityPlayerMP && p_179229_2_.func_184614_ca() == p_179229_1_)
+                    if (p_179229_2_ instanceof EntityPlayerMP && p_179229_2_.getMainHandItem() == p_179229_1_)
                     {
                         Slot slot = p_179229_2_.openContainer.getSlotFromInventory(p_179229_2_.inventory, p_179229_2_.inventory.currentItem);
                         ((EntityPlayerMP)p_179229_2_).playerNetServerHandler.sendPacket(new SPacketSetSlot(0, slot.slotNumber, p_179229_1_));
